---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { i18n } from '../../../i18n';

const lang = 'en';
const posts = await getCollection('blog');
const enPosts = posts.filter((p) => p.data.lang === lang);
const tags = [...new Set(enPosts.flatMap((post) => post.data.tags || []))].sort();
const t = i18n[lang].pages;
---

<BaseLayout lang={lang} title={t.tags} description={t.tags}>
	<div class="max-w-2xl mx-auto text-center">
		<h1 class="text-3xl font-bold mb-8">{t.tags}</h1>
		<div class="flex flex-wrap justify-center gap-4">
			{
				tags.map((tag) => (
					<a
						href={`/en/tags/${encodeURIComponent(tag)}/`}
						class="text-lg bg-zinc-100 dark:bg-zinc-800 px-4 py-2 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900 hover:text-blue-600 dark:hover:text-blue-300 transition-colors"
					>
						#{tag}
					</a>
				))
			}
		</div>
	</div>
</BaseLayout>
